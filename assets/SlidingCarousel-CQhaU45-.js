import{n as C,s as I,b as L,p as A,R as l,r as p,m,A as W}from"./index-DxIq7Tj3.js";import{m as q}from"./managed-CNHx3egX.js";function Z(t){t.values.forEach(o=>o.stop())}function E(t,o){[...o].reverse().forEach(e=>{const i=t.getVariant(e);i&&I(t,i),t.variantChildren&&t.variantChildren.forEach(a=>{E(a,o)})})}function $(t,o){if(Array.isArray(o))return E(t,o);if(typeof o=="string")return E(t,[o]);I(t,o)}function M(){const t=new Set,o={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,e){const i=[];return t.forEach(a=>{i.push(C(a,n,{transitionOverride:e}))}),Promise.all(i)},set(n){return t.forEach(e=>{$(e,n)})},stop(){t.forEach(n=>{Z(n)})},mount(){return()=>{o.stop()}}};return o}function H(){const t=L(M);return A(t.mount,[]),t}const g=H;var P=function(t,o,n,e){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function d(r){try{u(e.next(r))}catch(c){s(c)}}function f(r){try{u(e.throw(r))}catch(c){s(c)}}function u(r){r.done?a(r.value):i(r.value).then(d,f)}u((e=e.apply(t,o||[])).next())})};const B=l.createElement("svg",{width:"100",height:"100",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M9 12.5L11.5 15L15 9",stroke:"#282",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),V=l.createElement("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M18 6L6 18",stroke:"#822",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M6 6L18 18",stroke:"#822",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})),R={color:"white",successIcon:B,failIcon:V,strokeWidth:2,startArcProportion:1,loadingArcProportion:.1,period:1,arcDuration:.5};function nt(t){var o;const{color:n,successIcon:e,failIcon:i,loadingArcProportion:a,startArcProportion:s,strokeWidth:d,period:f}=Object.assign(Object.assign({},R),t),u=(o=void 0)!==null&&o!==void 0?o:f/2,r=g(),c=g(),v=g(),b={start:{scale:1,pathLength:s,pathOffset:1-s,opacity:0,fill:"none",strokeWidth:d},loading:{opacity:1,pathLength:a,pathOffset:[0,1-a],rotate:[0,360],transition:{duration:u,rotate:{duration:f,repeat:1/0,ease:"linear"}}},succeed:{scale:1,opacity:1,pathLength:1,pathOffset:0,strokeWidth:[d,40],fill:["none",n],transition:{strokeWidth:{type:"spring",stiffness:150,damping:8,mass:.5},pathLength:{duration:0},pathOffset:{duration:0}}},fail:{scale:1,opacity:1,pathLength:1,pathOffset:0,strokeWidth:[d,40],fill:["none",n],transition:{strokeWidth:{type:"spring",stiffness:150,damping:8,mass:.5},pathLength:{duration:0},pathOffset:{duration:0}}},out:{scale:[1,0],transition:{duration:.2}}},y=p.useCallback(()=>P(this,void 0,void 0,function*(){r.stop(),yield r.start("start")}),[r]),j=p.useCallback(()=>{r.stop(),r.start("loading")},[r]),O=p.useCallback(h=>P(this,void 0,void 0,function*(){const k=h==="succeed"?c:v;r.stop(),yield Promise.all([r.start(h),k.start({opacity:1,scale:1})]),yield Promise.all([r.start("out"),k.start({opacity:0,scale:0},{duration:.2})]),r.set("start")}),[r,v,c]),_=p.useCallback(h=>h==="stop"?y():h==="load"?j():O(h),[O,j,y]),x={height:"100%",width:"100%",position:"absolute",top:0,left:0,display:"flex",justifyContent:"center",alignItems:"center",fontSize:"3rem"},w=l.createElement("div",{style:{height:"100%",width:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"}},l.createElement("svg",{viewBox:"0 0 100 100"},l.createElement(m.circle,{variants:b,initial:"start",animate:r,cx:"50",cy:"50",r:"20",stroke:n})),l.createElement(m.div,{style:x,initial:{opacity:0,scale:0},animate:c},e),l.createElement(m.div,{style:x,initial:{opacity:0,scale:0},animate:v},i));return{animate:_,loader:w}}const D=({svg:t,path:o})=>l.createElement("svg",Object.assign({},t,{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24"}),l.createElement("path",Object.assign({},o,{d:"M473-80q-24 0-46-9t-39-26L184-320l30-31q16-16 37.5-21.5t42.5.5l66 19v-327q0-17 11.5-28.5T400-720q17 0 28.5 11.5T440-680v433l-97-27 102 102q5 5 12.5 8.5T473-160h167q33 0 56.5-23.5T720-240v-160q0-17 11.5-28.5T760-440q17 0 28.5 11.5T800-400v160q0 66-47 113T640-80H473Zm7-280v-160q0-17 11.5-28.5T520-560q17 0 28.5 11.5T560-520v160h-80Zm120 0v-120q0-17 11.5-28.5T640-520q17 0 28.5 11.5T680-480v120h-80Zm-20 80Zm300-400H680v-60h116q-66-58-147-89t-169-31q-88 0-169 31t-147 89h116v60H80v-200h60v81q72-59 159-90t181-31q94 0 181 31t159 90v-81h60v200Z"})));var K=function(t,o){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(t);i<e.length;i++)o.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(t,e[i])&&(n[e[i]]=t[e[i]]);return n};const z=t=>(t==null?void 0:t.swipeIcon)!==void 0;function ot(t){var o,n;const e=(o=t==null?void 0:t.durationSecs)!==null&&o!==void 0?o:1,i=g(),a=10,s=p.useCallback(()=>(i.stop(),i.start({rotate:[null,a,-a,0],x:[null,"50%","-50%","0%"],opacity:[0,1,1,1,0]},{duration:e})),[i,e]),d=z(t)?t.swipeIcon:l.createElement(D,{svg:Object.assign({width:"4rem",height:"4rem"},t==null?void 0:t.svg),path:Object.assign({fill:"white"},t==null?void 0:t.path)}),f=(n=t==null?void 0:t.divProps)!==null&&n!==void 0?n:{},{style:u}=f,r=K(f,["style"]);return{animation:l.createElement(m.div,Object.assign({animate:i,initial:{opacity:0},style:Object.assign({width:"max-content"},u)},r),d),run:s}}var F=function(t,o){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(t);i<e.length;i++)o.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(t,e[i])&&(n[e[i]]=t[e[i]]);return n};function N(t){var{show:o,modalKey:n,children:e,opacity:i,style:a}=t,s=F(t,["show","modalKey","children","opacity","style"]);return l.createElement(W,{initial:!1},o&&l.createElement(m.div,Object.assign({key:n,initial:{opacity:0},animate:{opacity:i??.7},exit:{opacity:0},transition:{duration:1},style:Object.assign({position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#444",display:"flex",alignItems:"center",justifyContent:"center"},a),children:e},s)))}var G=function(t,o,n,e){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function d(r){try{u(e.next(r))}catch(c){s(c)}}function f(r){try{u(e.throw(r))}catch(c){s(c)}}function u(r){r.done?a(r.value):i(r.value).then(d,f)}u((e=e.apply(t,o||[])).next())})};function J(t){const[o,n]=p.useState(t),e=p.useRef(q());p.useEffect(()=>{e.current.resolve()},[o]);const i=p.useCallback(a=>G(this,void 0,void 0,function*(){e.current=q(),n(s=>{const d=typeof a=="function"?a(s):a;return s===d&&e.current.resolve(),d}),yield e.current}),[]);return[o,i]}const Q=({svg:t,path:o})=>l.createElement("svg",Object.assign({},t,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960"}),l.createElement("path",Object.assign({},o,{d:"M398-120q-27 0-51.5-11.5T305-164L46-483l26-25q19-19 45-22t47 12l116 81v-403q0-17 11.5-28.5T320-880q17 0 28.5 11.5T360-840v557l-111-78 118 146q6 7 14 11t17 4h282q33 0 56.5-23.5T760-280v-280q0-17 11.5-28.5T800-600q17 0 28.5 11.5T840-560v280q0 66-47 113t-113 47H398Zm122-240Zm-80-80v-240q0-17 11.5-28.5T480-720q17 0 28.5 11.5T520-680v240h-80Zm160 0v-200q0-17 11.5-28.5T640-680q17 0 28.5 11.5T680-640v200h-80Z"})));function U(t,o){return new Promise(n=>setTimeout(()=>n(),1e3*t))}var T=function(t,o,n,e){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function d(r){try{u(e.next(r))}catch(c){s(c)}}function f(r){try{u(e.throw(r))}catch(c){s(c)}}function u(r){r.done?a(r.value):i(r.value).then(d,f)}u((e=e.apply(t,o||[])).next())})},S=function(t,o){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(t);i<e.length;i++)o.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(t,e[i])&&(n[e[i]]=t[e[i]]);return n};function it(t){var o,n,e;const i={},a=(o=i.handIcon)!==null&&o!==void 0?o:l.createElement(Q,{svg:Object.assign({width:"4rem",height:"4rem"},i.svg),path:Object.assign({fill:"white"},i.path)}),[s,d]=J(!1),f=g(),u=p.useCallback(w=>T(this,void 0,void 0,function*(){switch(w){case"show":return yield d(!0);case"hide":d(!1);return;case"press":case"lift":{const h=w==="press"?.7:1;return f.stop(),yield f.start({scale:h})}}}),[f,d]),r=p.useCallback((...w)=>T(this,void 0,void 0,function*(){for(const h of w)yield u(h),yield U(0)}),[u]),c=(n=void 0)!==null&&n!==void 0?n:{},{transition:v}=c,b=S(c,["transition"]),y=(e=void 0)!==null&&e!==void 0?e:{},{style:j}=y,O=S(y,["style"]),_=typeof O.initial=="object"?O.initial:void 0;return{animation:l.createElement(N,Object.assign({show:s,transition:Object.assign({duration:.2},v)},b),l.createElement(m.div,{animate:f,initial:Object.assign({scale:1},_),style:Object.assign({y:"70%",x:"40%"},j)},a)),animate:r}}var X=function(t,o){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(t);i<e.length;i++)o.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(t,e[i])&&(n[e[i]]=t[e[i]]);return n};function rt(t){var{children:o}=t,n=X(t,["children"]);return l.createElement(m.div,Object.assign({},n),o)}function Y(t){var o,n,e,i,a,s;const d=(o=void 0)!==null&&o!==void 0?o:100,f=(n=void 0)!==null&&n!==void 0?n:120,u=(e=void 0)!==null&&e!==void 0?e:"0 0 8px rgba(255,255,255,0.5)",r=(i=void 0)!==null&&i!==void 0?i:"0 0 25px rgba(255,255,255,1)",c=`brightness(${d}%) drop-shadow(${u})`,v=`brightness(${f}%) drop-shadow(${r})`,b=(a=void 0)!==null&&a!==void 0?a:1,y=(s=void 0)!==null&&s!==void 0?s:1;return{filter:[c,v,c],scale:[b,y,b]}}function at(t){const o=g(),n=p.useMemo(()=>Y(),[t]),e=p.useCallback(a=>{o.stop(),o.start(a)},[o]),i={start:Object.assign(Object.assign({},n),{transition:Object.assign({duration:.5,repeat:1/0,ease:"easeInOut"},void 0)}),stop:{filter:"brightness(100%) drop-shadow(0 0 0 #0000)"}};return{highlightedProps:{animate:o,variants:i},animate:e}}export{rt as H,it as a,nt as b,at as c,U as d,ot as u};
