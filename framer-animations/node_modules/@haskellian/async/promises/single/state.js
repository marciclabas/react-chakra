export function track(task) {
    return () => {
        let state = { status: 'pending' };
        const promise = task().then(value => {
            state = { status: 'resolved', value };
            return value;
        }, reason => {
            state = { status: 'rejected', reason };
            throw reason;
        });
        return Object.assign(promise, state);
    };
}
